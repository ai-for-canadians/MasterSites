import type { BiomarkerGuide } from '@/types';

export const biomarkers: BiomarkerGuide[] = [
    // METABOLIC
    {
        id: 'fasting-glucose',
        name: 'Fasting Glucose',
        slug: 'fasting-glucose',
        category: 'metabolic',
        description: 'Blood sugar level after 8-12 hours of fasting.',
        whyItMatters: 'Elevated fasting glucose indicates insulin resistance and prediabetes, precursors to Type 2 diabetes and cardiovascular disease.',
        optimalRange: '<90 mg/dL (5.0 mmol/L)',
        conventionalRange: '<100 mg/dL (5.6 mmol/L)',
        howToTest: 'Standard blood draw as part of metabolic panel or separate glucose test.',
        canadianContext: 'Covered by provincial health plans when ordered by physician. Can be included in routine checkups.',
        frequency: 'Annually if normal; more frequently if borderline or diabetic',
        interventionsToImprove: ['zone-2-training', 'resistance-training', 'intermittent-fasting', 'sleep-optimization'],
    },
    {
        id: 'hba1c',
        name: 'Hemoglobin A1c',
        slug: 'hba1c',
        category: 'metabolic',
        description: 'Average blood glucose over the past 2-3 months.',
        whyItMatters: 'More stable than fasting glucose. Captures overall glucose control including post-meal spikes.',
        optimalRange: '<5.5%',
        conventionalRange: '<5.7% (prediabetes: 5.7-6.4%)',
        howToTest: 'Blood draw, no fasting required.',
        canadianContext: 'Covered provincially. Standard for diabetic monitoring; can be requested for non-diabetics.',
        frequency: 'Every 6-12 months',
        interventionsToImprove: ['zone-2-training', 'caloric-restriction', 'intermittent-fasting'],
    },
    {
        id: 'fasting-insulin',
        name: 'Fasting Insulin',
        slug: 'fasting-insulin',
        category: 'metabolic',
        description: 'Insulin level after overnight fast.',
        whyItMatters: 'Elevated insulin precedes elevated glucose by years. Early marker of insulin resistance.',
        optimalRange: '<7 µIU/mL',
        conventionalRange: '<25 µIU/mL (lab ranges vary widely)',
        howToTest: 'Blood draw after 12-hour fast. Must specifically request this test.',
        canadianContext: 'May not be covered unless diabetic or metabolic syndrome diagnosed. Cost ~$30-50 if paying out of pocket.',
        frequency: 'Annually',
        interventionsToImprove: ['resistance-training', 'intermittent-fasting', 'zone-2-training'],
    },
    // INFLAMMATORY
    {
        id: 'hscrp',
        name: 'High-Sensitivity CRP',
        slug: 'hscrp',
        category: 'inflammatory',
        description: 'Marker of systemic inflammation.',
        whyItMatters: 'Chronic low-grade inflammation drives aging and most chronic diseases. hsCRP is cardiovascular risk predictor.',
        optimalRange: '<1.0 mg/L',
        conventionalRange: '<3.0 mg/L (low CV risk)',
        howToTest: 'Blood draw. Specify "high-sensitivity" CRP, not standard CRP.',
        canadianContext: 'Often covered when assessing cardiovascular risk. May need to specifically request.',
        frequency: 'Every 6-12 months (don\'t test during acute illness)',
        interventionsToImprove: ['omega-3', 'zone-2-training', 'curcumin', 'sleep-optimization'],
    },
    {
        id: 'homocysteine',
        name: 'Homocysteine',
        slug: 'homocysteine',
        category: 'inflammatory',
        description: 'Amino acid linked to cardiovascular and cognitive disease.',
        whyItMatters: 'Elevated homocysteine damages blood vessels and is associated with dementia and heart disease.',
        optimalRange: '<10 µmol/L',
        conventionalRange: '<15 µmol/L',
        howToTest: 'Blood draw. Request specifically.',
        canadianContext: 'May need to pay out of pocket (~$40). Worth testing if B12/folate concerns.',
        frequency: 'Every 1-2 years',
        interventionsToImprove: ['vitamin-b12', 'folate', 'b6'],
    },
    // CARDIOVASCULAR
    {
        id: 'apob',
        name: 'Apolipoprotein B (ApoB)',
        slug: 'apob',
        category: 'cardiovascular',
        description: 'Number of atherogenic (artery-clogging) particles.',
        whyItMatters: 'Better predictor of cardiovascular risk than LDL-C. Each ApoB particle can deposit cholesterol in arteries.',
        optimalRange: '<70 mg/dL (high risk: <50 mg/dL)',
        conventionalRange: '<90 mg/dL',
        howToTest: 'Blood draw. Must request specifically (not part of standard lipid panel).',
        canadianContext: 'Not always covered. ~$30-50 if paying. Increasingly recognized as superior to LDL.',
        frequency: 'Annually if optimizing; every 2-3 years if optimal',
        interventionsToImprove: ['zone-2-training', 'omega-3', 'dietary-changes', 'statins'],
    },
    {
        id: 'lp-a',
        name: 'Lipoprotein(a)',
        slug: 'lp-a',
        category: 'cardiovascular',
        description: 'Genetically determined cardiovascular risk factor.',
        whyItMatters: 'High Lp(a) is genetic and significantly increases heart attack/stroke risk. Know your status once.',
        optimalRange: '<30 mg/dL (or <75 nmol/L)',
        conventionalRange: '<50 mg/dL is lower risk',
        howToTest: 'Blood draw. Request once in lifetime (it\'s genetic, doesn\'t change much).',
        canadianContext: 'Often not covered. ~$50. Worth knowing—it\'s hereditary and doesn\'t respond to lifestyle.',
        frequency: 'Once (genetic, doesn\'t change)',
        interventionsToImprove: ['niacin', 'pcsk9-inhibitors'],
    },
    {
        id: 'coronary-calcium',
        name: 'Coronary Artery Calcium Score',
        slug: 'coronary-calcium',
        category: 'cardiovascular',
        description: 'CT scan measuring calcified plaque in coronary arteries.',
        whyItMatters: 'Direct measurement of atherosclerosis. Score of 0 is very reassuring; >100 indicates significant disease.',
        optimalRange: '0 (no detectable calcium)',
        conventionalRange: '<100 is low risk',
        howToTest: 'Cardiac CT scan at imaging center. Relatively low radiation.',
        canadianContext: 'Usually not covered by provincial plans. ~$100-200 at private clinics. Worth doing in 40s-50s.',
        frequency: 'Once at age 40-50, repeat every 5-10 years if abnormal',
        interventionsToImprove: ['statins', 'zone-2-training', 'omega-3', 'blood-pressure-control'],
    },
    // HORMONAL
    {
        id: 'testosterone',
        name: 'Total Testosterone',
        slug: 'testosterone',
        category: 'hormonal',
        description: 'Primary male sex hormone (important in women too).',
        whyItMatters: 'Low T is associated with depression, low muscle mass, cognitive decline, and increased mortality.',
        optimalRange: 'Men: 500-900 ng/dL, Women: 15-70 ng/dL',
        conventionalRange: 'Men: 300-1000 ng/dL (lab ranges vary)',
        howToTest: 'Morning blood draw (levels peak in AM). Get free T and SHBG too.',
        canadianContext: 'Covered if symptoms present. May need to push for testing if "normal" but low-normal.',
        frequency: 'Annually in 40s+, or if symptomatic',
        interventionsToImprove: ['resistance-training', 'sleep-optimization', 'zinc', 'vitamin-d3'],
    },
    {
        id: 'thyroid-panel',
        name: 'Thyroid Panel (TSH, Free T3, Free T4)',
        slug: 'thyroid-panel',
        category: 'hormonal',
        description: 'Thyroid function markers.',
        whyItMatters: 'Thyroid controls metabolism. Subclinical hypothyroidism is common and often missed.',
        optimalRange: 'TSH: 0.5-2.5 mIU/L, Free T3/T4 mid-range',
        conventionalRange: 'TSH: 0.4-4.5 mIU/L',
        howToTest: 'Blood draw. Request full panel, not just TSH.',
        canadianContext: 'TSH usually covered. May need to request Free T3/T4 specifically.',
        frequency: 'Every 1-2 years',
        interventionsToImprove: ['selenium', 'iodine', 'stress-reduction'],
    },
    // NUTRITIONAL
    {
        id: 'vitamin-d',
        name: 'Vitamin D (25-OH)',
        slug: 'vitamin-d',
        category: 'nutritional',
        description: '25-hydroxyvitamin D level.',
        whyItMatters: 'Deficiency is extremely common in Canada. Affects immune function, bone health, mood, and muscle function.',
        optimalRange: '40-60 ng/mL (100-150 nmol/L)',
        conventionalRange: '>30 ng/mL (75 nmol/L) is "sufficient"',
        howToTest: 'Blood draw.',
        canadianContext: 'Often covered in Canada given high deficiency rates. Winter supplementation is essential.',
        frequency: 'Annually (test end of winter to catch nadir)',
        interventionsToImprove: ['vitamin-d3', 'sun-exposure', 'fatty-fish'],
    },
    {
        id: 'vitamin-b12',
        name: 'Vitamin B12',
        slug: 'vitamin-b12',
        category: 'nutritional',
        description: 'Essential for nerve function and red blood cell formation.',
        whyItMatters: 'Deficiency causes irreversible nerve damage and cognitive impairment. Common in elderly and vegans.',
        optimalRange: '>500 pg/mL',
        conventionalRange: '>200 pg/mL (but symptoms can occur below 400)',
        howToTest: 'Blood draw.',
        canadianContext: 'Usually covered. Metformin users, elderly, and plant-based eaters should test regularly.',
        frequency: 'Every 1-2 years',
        interventionsToImprove: ['vitamin-b12-supplement', 'animal-products'],
    },
    {
        id: 'omega-3-index',
        name: 'Omega-3 Index',
        slug: 'omega-3-index',
        category: 'nutritional',
        description: 'EPA + DHA as percentage of red blood cell fatty acids.',
        whyItMatters: 'Low omega-3 index is associated with cardiovascular events, depression, and cognitive decline.',
        optimalRange: '>8%',
        conventionalRange: '>4% (many labs use this as minimum)',
        howToTest: 'Finger-prick home test or blood draw. OmegaQuant is gold standard.',
        canadianContext: 'Usually not covered. Home test ~$75. Worth knowing if not eating fatty fish regularly.',
        frequency: 'Every 1-2 years',
        interventionsToImprove: ['omega-3', 'fatty-fish'],
    },
    // ORGAN FUNCTION
    {
        id: 'egfr',
        name: 'eGFR (Kidney Function)',
        slug: 'egfr',
        category: 'organ',
        description: 'Estimated glomerular filtration rate—how well kidneys filter blood.',
        whyItMatters: 'Kidney function declines with age. Early detection allows intervention.',
        optimalRange: '>90 mL/min/1.73m²',
        conventionalRange: '>60 mL/min/1.73m² is normal range',
        howToTest: 'Calculated from creatinine blood test.',
        canadianContext: 'Covered as part of standard metabolic panel.',
        frequency: 'Annually after 40',
        interventionsToImprove: ['hydration', 'blood-pressure-control', 'limit-nsaids'],
    },
    {
        id: 'alt-ast',
        name: 'Liver Enzymes (ALT/AST)',
        slug: 'alt-ast',
        category: 'organ',
        description: 'Markers of liver cell damage.',
        whyItMatters: 'Fatty liver disease is epidemic. Elevated enzymes indicate liver stress.',
        optimalRange: 'ALT: <25 IU/L (men), <20 IU/L (women)',
        conventionalRange: 'ALT: <40 IU/L',
        howToTest: 'Blood draw as part of liver panel.',
        canadianContext: 'Covered in standard metabolic panels.',
        frequency: 'Annually',
        interventionsToImprove: ['caloric-restriction', 'zone-2-training', 'limit-alcohol'],
    },
];

export function getBiomarker(slug: string): BiomarkerGuide | undefined {
    return biomarkers.find(b => b.slug === slug);
}

export function getBiomarkersByCategory(category: string): BiomarkerGuide[] {
    return biomarkers.filter(b => b.category === category);
}
